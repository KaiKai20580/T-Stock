@model List<T_Stock.Models.StockTransaction>

<div class="inner-table-wrapper">
    <div class="inner-header">
        <h5 class="inner-table-title">Transaction Items</h5>
    </div>

    <table class="inner-stock-table">
        <thead>
            <tr>
                <th style="width: 15%;">ID</th>
                <th style="width: 65%;">Product Name</th>
                <th style="width: 20%;" class="text-end">Quantity</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                foreach (var tx in Model)
                {
                    if (tx.Products != null && tx.Products.Any())
                    {
                        foreach (var prod in tx.Products)
                        {
                            <tr>
                                <td class="id-cell">@prod.ProductId</td>
                                <td class="name-cell">@prod.ProductName</td>
                                <td class="text-end qty-cell">
                                    <span class="qty-badge">@prod.Quantity</span>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td class="id-cell">@tx.ProductId</td>
                            <td class="name-cell">@tx.ProductName</td>
                            <td class="text-end qty-cell">
                                <span class="qty-badge">@tx.Quantity</span>
                            </td>
                        </tr>
                    }
                }
            }
            else
            {
                <tr>
                    <td colspan="3" class="empty-state">
                        <i class="empty-icon">!</i> No items found.
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<style>
    /* --- 1. Wrapper: Card Style --- */
    .inner-table-wrapper {
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08); /* Softer shadow */
        border: 1px solid #eaeaea;
        overflow: hidden; /* Keeps child elements inside rounded corners */
        margin: 10px 0; /* Vertical breathing room */
        max-width: 100%;
    }

    /* --- 2. Header Section --- */
    .inner-header {
        background-color: #fafafa;
        padding: 12px 20px;
        border-bottom: 1px solid #eaeaea;
    }

    .inner-table-title {
        margin: 0;
        font-size: 0.85rem;
        font-weight: 700;
        color: #5f6368;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    /* --- 3. Table Layout --- */
    .inner-stock-table {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed; /* STRICTLY enforces column widths */
    }

        /* Header Styling */
        .inner-stock-table thead th {
            background-color: #fff;
            color: #888;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            padding: 10px 20px;
            border-bottom: 2px solid #f0f0f0;
            text-align: left;
        }

        /* Row/Cell Styling */
        .inner-stock-table tbody td {
            padding: 12px 20px; /* Balanced padding for height */
            border-bottom: 1px solid #f5f5f5;
            font-size: 0.9rem;
            vertical-align: middle;
            color: #333;
        }

        /* Hover Effect */
        .inner-stock-table tbody tr:hover {
            background-color: #fcfcfc;
        }

        /* Last row border removal */
        .inner-stock-table tbody tr:last-child td {
            border-bottom: none;
        }

    /* --- 4. Specific Column Styling --- */
    .text-end {
        text-align: right;
    }

    .id-cell {
        font-family: 'Consolas', 'Monaco', monospace; /* Monospace for IDs aligns perfectly */
        color: #999;
        font-size: 0.85rem;
    }

    .name-cell {
        font-weight: 600;
        color: #2c3e50;
        white-space: nowrap; /* Prevents wrapping */
        overflow: hidden;
        text-overflow: ellipsis; /* Adds "..." if name is too long */
    }

    /* Quantity Badge Look */
    .qty-cell {
        font-weight: bold;
    }

    .qty-badge {
        background-color: #e3f2fd;
        color: #1976d2;
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 0.8rem;
    }

    /* --- 5. Empty State --- */
    .empty-state {
        text-align: center;
        padding: 40px !important;
        color: #a0a0a0;
        font-style: italic;
    }
</style>